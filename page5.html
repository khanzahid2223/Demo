<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Search Game</title>
<style>
html, body {
  margin:0; padding:0; height:100%; font-family: Arial,sans-serif;
  display:flex; justify-content:center; align-items:center; overflow:hidden;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4);
  position: relative;
}

h1 {
  color:#fff; text-align:center; text-shadow:2px 2px 8px #ff5c8a; margin-bottom:10px;
  font-size:5vw;
  z-index: 2;
  position: relative;
}

#game {
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  grid-gap:3px;
  max-width: 95vw;
  margin:auto;
  z-index: 5; /* ensure it is above hearts */
  position: relative;
}

.cell {
  width:100%;
  aspect-ratio: 1/1;
  display:flex; justify-content:center; align-items:center;
  font-size:4vw;
  color:#fff;
  background: rgba(255,255,255,0.2);
  cursor:pointer;
  border-radius:8px;
  user-select:none;
  -webkit-user-select:none; /* mobile support */
  -ms-user-select:none;
  transition: all 0.2s ease;
  touch-action: manipulation; /* mobile support */
}

.cell.selected {
  background:#ff1493;
  transform: scale(1.2);
  color:#fff;
  box-shadow:0 0 15px #fff;
}

/* Floating hearts animation */
.heart {
  position:absolute; font-size:6vw; animation:float 6s linear infinite;
  z-index: 0;
  pointer-events: none;
}

@keyframes float {
  0% {transform:translateY(100vh) scale(0.5); opacity:0;}
  50% {opacity:1;}
  100% {transform:translateY(-20vh) scale(1); opacity:0;}
}

/* Popup message style */
.popup {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  color: white;
  font-size: 4vw;
  z-index: 10;
  opacity: 0;
  transition: opacity 1s;

  /* ADDED: allow clicks to pass through when popup is hidden */
  pointer-events: none;
}
.popup.show {
  opacity: 1;

  /* ADDED: enable pointer events when popup is visible */
  pointer-events: auto;
}
</style>
</head>
<body>

<audio autoplay loop>
  <source src="romantic.mp3" type="audio/mp3">
</audio>

<!-- Floating hearts -->
<div class="heart" style="left:10%; animation-duration:6s;">‚ù§</div>
<div class="heart" style="left:30%; animation-duration:8s;">üíñ</div>
<div class="heart" style="left:50%; animation-duration:5s;">üíï</div>
<div class="heart" style="left:70%; animation-duration:7s;">üíó</div>
<div class="heart" style="left:90%; animation-duration:6s;">üíò</div>

<div>
<h1>Find the hidden word ‚ù§</h1>
<div id="game"></div>
</div>

<!-- Popup message -->
<div id="popup" class="popup">
  <h1>ZAHID üíñ SUHANA</h1>
  <p>Forever Together ‚ù§</p>
</div>

<script>
const answer = "ZAHIDSUHANA";
const rows = 8;
const cols = 12;
const game = document.getElementById('game');
let selectedWord = '';
const cells = [];

// Generate random letters
function randomLetter(){ return String.fromCharCode(65 + Math.floor(Math.random()*26)); }

// Fill grid
for(let r=0;r<rows;r++){
  for(let c=0;c<cols;c++){
    const cell = document.createElement('div');
    cell.className='cell';
    cell.textContent = randomLetter();
    cell.addEventListener('click', () => selectCell(cell));
    game.appendChild(cell);
    cells.push(cell);
  }
}

// Place the answer horizontally in the middle
const startRow = Math.floor(rows/2);
const startCol = Math.floor((cols - answer.length)/2);
for(let i=0;i<answer.length;i++){
  const idx = startRow*cols + startCol + i;
  cells[idx].textContent = answer[i];
}

// Handle cell click
function selectCell(cell){
  if(cell.classList.contains('selected')) return;
  cell.classList.add('selected');
  selectedWord += cell.textContent;

  // If sequence is wrong, reset
  if(!answer.startsWith(selectedWord)){
    selectedWord = '';
    document.querySelectorAll('.cell.selected').forEach(c => c.classList.remove('selected'));
    return;
  }

  // If correct word found
  if(selectedWord === answer){
    showPopup();
  }
}

// Show popup and redirect
function showPopup(){
  const popup = document.getElementById('popup');
  popup.classList.add('show');
  document.body.style.transition = "background 3s";
  document.body.style.background = "linear-gradient(135deg,#fbc2eb,#a6c1ee)";

  for(let i=0;i<30;i++){
    const h = document.createElement('div');
    h.className='heart';
    h.textContent='üíñ';
    h.style.left=Math.random()*100+'%';
    h.style.animationDuration=(3+Math.random()*3)+'s';
    document.body.appendChild(h);
  }

  setTimeout(()=>{
    window.location.href = "page6.html"; // replace with your next page name
  }, 6000);
}
</script>
</body>
</html>
